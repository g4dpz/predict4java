<?xml version="1.0" encoding="UTF-8"?>
<FindBugsFilter>
    <!-- Exclude non-atomic 64-bit primitive warnings in AbstractSatellite -->
    <!-- These are initialization values set once during construction, not shared mutable state -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.AbstractSatellite"/>
        <Bug pattern="AT_NONATOMIC_64BIT_PRIMITIVE"/>
    </Match>
    <Match>
        <Class name="uk.me.g4dpz.satellite.AbstractSatellite"/>
        <Bug pattern="AT_NONATOMIC_OPERATIONS_ON_SHARED_VARIABLE"/>
    </Match>

    <!-- Exclude serializable inner class warning for DeepSpaceCalculator -->
    <!-- This is a private inner class used for calculations, serialization is intentional -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.DeepSpaceSatellite$DeepSpaceCalculator"/>
        <Bug pattern="SE_INNER_CLASS"/>
    </Match>

    <!-- Exclude constructor throw warnings - these are valid for validation -->
    <!-- Constructors should throw exceptions for invalid TLE data -->
    <Match>
        <Or>
            <Class name="uk.me.g4dpz.satellite.TLE"/>
            <Class name="uk.me.g4dpz.satellite.PassPredictor"/>
        </Or>
        <Bug pattern="CT_CONSTRUCTOR_THROW"/>
    </Match>

    <!-- Exclude floating-point loop counter in SatPos -->
    <!-- This is intentional for astronomical calculations requiring precise angular steps -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.SatPos"/>
        <Bug pattern="FL_FLOATS_AS_LOOP_COUNTERS"/>
    </Match>

    <!-- Exclude format string newline warnings -->
    <!-- Using \n is intentional for cross-platform compatibility -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.SatPassTime"/>
        <Bug pattern="VA_FORMAT_STRING_USES_NEWLINE"/>
    </Match>

    <!-- Exclude exposure of internal representation in PassPredictor -->
    <!-- TLE and GroundStationPosition are intentionally stored as references -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.PassPredictor"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude static DateFormat usage in SatPassTime -->
    <!-- This is a toString() method for display purposes, not critical path -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.SatPassTime"/>
        <Bug pattern="STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE"/>
    </Match>

    <!-- Exclude setTCA exposure warning -->
    <!-- Date is intentionally stored as reference for performance -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.SatPassTime"/>
        <Method name="setTCA"/>
        <Bug pattern="EI_EXPOSE_REP2"/>
    </Match>

    <!-- Exclude inconsistent synchronization warnings in TLE -->
    <!-- These are read-only getters after initialization, synchronization not needed -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.TLE"/>
        <Bug pattern="IS2_INCONSISTENT_SYNC"/>
    </Match>

    <!-- Exclude overridable method call in constructor warnings -->
    <!-- These are final getters, safe to call in constructor -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.TLE"/>
        <Bug pattern="MC_OVERRIDABLE_METHOD_CALL_IN_CONSTRUCTOR"/>
    </Match>

    <!-- Exclude inconsistent synchronization warnings in AbstractSatellite -->
    <!-- These are read-only after initialization, synchronization not needed -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.AbstractSatellite"/>
        <Bug pattern="IS2_INCONSISTENT_SYNC"/>
    </Match>

    <!-- Exclude overridable method call in constructor for satellite subclasses -->
    <!-- These are protected getters called during initialization, safe pattern -->
    <Match>
        <Or>
            <Class name="uk.me.g4dpz.satellite.LEOSatellite"/>
            <Class name="uk.me.g4dpz.satellite.DeepSpaceSatellite"/>
        </Or>
        <Bug pattern="MC_OVERRIDABLE_METHOD_CALL_IN_CONSTRUCTOR"/>
    </Match>

    <!-- Exclude low-priority warnings in PassPredictor -->
    <!-- Dead store, integer cast, and redundant null check are minor issues -->
    <Match>
        <Class name="uk.me.g4dpz.satellite.PassPredictor"/>
        <Or>
            <Bug pattern="DLS_DEAD_LOCAL_STORE"/>
            <Bug pattern="ICAST_INTEGER_MULTIPLY_CAST_TO_LONG"/>
            <Bug pattern="RCN_REDUNDANT_COMPARISON_OF_NULL_AND_NONNULL_VALUE"/>
        </Or>
    </Match>
</FindBugsFilter>
